#include <libc.h>

static Rune marks[236][2] = {
    { 0x300, 0x36f },
    { 0x483, 0x489 },
    { 0x591, 0x5bd },
    { 0x5bf, 0x5bf },
    { 0x5c1, 0x5c2 },
    { 0x5c4, 0x5c5 },
    { 0x5c7, 0x5c7 },
    { 0x610, 0x61a },
    { 0x64b, 0x65f },
    { 0x670, 0x670 },
    { 0x6d6, 0x6dc },
    { 0x6df, 0x6e4 },
    { 0x6e7, 0x6e8 },
    { 0x6ea, 0x6ed },
    { 0x711, 0x711 },
    { 0x730, 0x74a },
    { 0x7a6, 0x7b0 },
    { 0x7eb, 0x7f3 },
    { 0x816, 0x819 },
    { 0x81b, 0x823 },
    { 0x825, 0x827 },
    { 0x829, 0x82d },
    { 0x859, 0x85b },
    { 0x8e3, 0x903 },
    { 0x93a, 0x93c },
    { 0x93e, 0x94f },
    { 0x951, 0x957 },
    { 0x962, 0x963 },
    { 0x981, 0x983 },
    { 0x9bc, 0x9bc },
    { 0x9be, 0x9c4 },
    { 0x9c7, 0x9c8 },
    { 0x9cb, 0x9cd },
    { 0x9d7, 0x9d7 },
    { 0x9e2, 0x9e3 },
    { 0xa01, 0xa03 },
    { 0xa3c, 0xa3c },
    { 0xa3e, 0xa42 },
    { 0xa47, 0xa48 },
    { 0xa4b, 0xa4d },
    { 0xa51, 0xa51 },
    { 0xa70, 0xa71 },
    { 0xa75, 0xa75 },
    { 0xa81, 0xa83 },
    { 0xabc, 0xabc },
    { 0xabe, 0xac5 },
    { 0xac7, 0xac9 },
    { 0xacb, 0xacd },
    { 0xae2, 0xae3 },
    { 0xb01, 0xb03 },
    { 0xb3c, 0xb3c },
    { 0xb3e, 0xb44 },
    { 0xb47, 0xb48 },
    { 0xb4b, 0xb4d },
    { 0xb56, 0xb57 },
    { 0xb62, 0xb63 },
    { 0xb82, 0xb82 },
    { 0xbbe, 0xbc2 },
    { 0xbc6, 0xbc8 },
    { 0xbca, 0xbcd },
    { 0xbd7, 0xbd7 },
    { 0xc00, 0xc03 },
    { 0xc3e, 0xc44 },
    { 0xc46, 0xc48 },
    { 0xc4a, 0xc4d },
    { 0xc55, 0xc56 },
    { 0xc62, 0xc63 },
    { 0xc81, 0xc83 },
    { 0xcbc, 0xcbc },
    { 0xcbe, 0xcc4 },
    { 0xcc6, 0xcc8 },
    { 0xcca, 0xccd },
    { 0xcd5, 0xcd6 },
    { 0xce2, 0xce3 },
    { 0xd01, 0xd03 },
    { 0xd3e, 0xd44 },
    { 0xd46, 0xd48 },
    { 0xd4a, 0xd4d },
    { 0xd57, 0xd57 },
    { 0xd62, 0xd63 },
    { 0xd82, 0xd83 },
    { 0xdca, 0xdca },
    { 0xdcf, 0xdd4 },
    { 0xdd6, 0xdd6 },
    { 0xdd8, 0xddf },
    { 0xdf2, 0xdf3 },
    { 0xe31, 0xe31 },
    { 0xe34, 0xe3a },
    { 0xe47, 0xe4e },
    { 0xeb1, 0xeb1 },
    { 0xeb4, 0xeb9 },
    { 0xebb, 0xebc },
    { 0xec8, 0xecd },
    { 0xf18, 0xf19 },
    { 0xf35, 0xf35 },
    { 0xf37, 0xf37 },
    { 0xf39, 0xf39 },
    { 0xf3e, 0xf3f },
    { 0xf71, 0xf84 },
    { 0xf86, 0xf87 },
    { 0xf8d, 0xf97 },
    { 0xf99, 0xfbc },
    { 0xfc6, 0xfc6 },
    { 0x102b, 0x103e },
    { 0x1056, 0x1059 },
    { 0x105e, 0x1060 },
    { 0x1062, 0x1064 },
    { 0x1067, 0x106d },
    { 0x1071, 0x1074 },
    { 0x1082, 0x108d },
    { 0x108f, 0x108f },
    { 0x109a, 0x109d },
    { 0x135d, 0x135f },
    { 0x1712, 0x1714 },
    { 0x1732, 0x1734 },
    { 0x1752, 0x1753 },
    { 0x1772, 0x1773 },
    { 0x17b4, 0x17d3 },
    { 0x17dd, 0x17dd },
    { 0x180b, 0x180d },
    { 0x18a9, 0x18a9 },
    { 0x1920, 0x192b },
    { 0x1930, 0x193b },
    { 0x1a17, 0x1a1b },
    { 0x1a55, 0x1a5e },
    { 0x1a60, 0x1a7c },
    { 0x1a7f, 0x1a7f },
    { 0x1ab0, 0x1abe },
    { 0x1b00, 0x1b04 },
    { 0x1b34, 0x1b44 },
    { 0x1b6b, 0x1b73 },
    { 0x1b80, 0x1b82 },
    { 0x1ba1, 0x1bad },
    { 0x1be6, 0x1bf3 },
    { 0x1c24, 0x1c37 },
    { 0x1cd0, 0x1cd2 },
    { 0x1cd4, 0x1ce8 },
    { 0x1ced, 0x1ced },
    { 0x1cf2, 0x1cf4 },
    { 0x1cf8, 0x1cf9 },
    { 0x1dc0, 0x1df5 },
    { 0x1dfc, 0x1dff },
    { 0x20d0, 0x20f0 },
    { 0x2cef, 0x2cf1 },
    { 0x2d7f, 0x2d7f },
    { 0x2de0, 0x2dff },
    { 0x302a, 0x302f },
    { 0x3099, 0x309a },
    { 0xa66f, 0xa672 },
    { 0xa674, 0xa67d },
    { 0xa69e, 0xa69f },
    { 0xa6f0, 0xa6f1 },
    { 0xa802, 0xa802 },
    { 0xa806, 0xa806 },
    { 0xa80b, 0xa80b },
    { 0xa823, 0xa827 },
    { 0xa880, 0xa881 },
    { 0xa8b4, 0xa8c4 },
    { 0xa8e0, 0xa8f1 },
    { 0xa926, 0xa92d },
    { 0xa947, 0xa953 },
    { 0xa980, 0xa983 },
    { 0xa9b3, 0xa9c0 },
    { 0xa9e5, 0xa9e5 },
    { 0xaa29, 0xaa36 },
    { 0xaa43, 0xaa43 },
    { 0xaa4c, 0xaa4d },
    { 0xaa7b, 0xaa7d },
    { 0xaab0, 0xaab0 },
    { 0xaab2, 0xaab4 },
    { 0xaab7, 0xaab8 },
    { 0xaabe, 0xaabf },
    { 0xaac1, 0xaac1 },
    { 0xaaeb, 0xaaef },
    { 0xaaf5, 0xaaf6 },
    { 0xabe3, 0xabea },
    { 0xabec, 0xabed },
    { 0xfb1e, 0xfb1e },
    { 0xfe00, 0xfe0f },
    { 0xfe20, 0xfe2f },
    { 0x101fd, 0x101fd },
    { 0x102e0, 0x102e0 },
    { 0x10376, 0x1037a },
    { 0x10a01, 0x10a03 },
    { 0x10a05, 0x10a06 },
    { 0x10a0c, 0x10a0f },
    { 0x10a38, 0x10a3a },
    { 0x10a3f, 0x10a3f },
    { 0x10ae5, 0x10ae6 },
    { 0x11000, 0x11002 },
    { 0x11038, 0x11046 },
    { 0x1107f, 0x11082 },
    { 0x110b0, 0x110ba },
    { 0x11100, 0x11102 },
    { 0x11127, 0x11134 },
    { 0x11173, 0x11173 },
    { 0x11180, 0x11182 },
    { 0x111b3, 0x111c0 },
    { 0x111ca, 0x111cc },
    { 0x1122c, 0x11237 },
    { 0x112df, 0x112ea },
    { 0x11300, 0x11303 },
    { 0x1133c, 0x1133c },
    { 0x1133e, 0x11344 },
    { 0x11347, 0x11348 },
    { 0x1134b, 0x1134d },
    { 0x11357, 0x11357 },
    { 0x11362, 0x11363 },
    { 0x11366, 0x1136c },
    { 0x11370, 0x11374 },
    { 0x114b0, 0x114c3 },
    { 0x115af, 0x115b5 },
    { 0x115b8, 0x115c0 },
    { 0x115dc, 0x115dd },
    { 0x11630, 0x11640 },
    { 0x116ab, 0x116b7 },
    { 0x1171d, 0x1172b },
    { 0x16af0, 0x16af4 },
    { 0x16b30, 0x16b36 },
    { 0x16f51, 0x16f7e },
    { 0x16f8f, 0x16f92 },
    { 0x1bc9d, 0x1bc9e },
    { 0x1d165, 0x1d169 },
    { 0x1d16d, 0x1d172 },
    { 0x1d17b, 0x1d182 },
    { 0x1d185, 0x1d18b },
    { 0x1d1aa, 0x1d1ad },
    { 0x1d242, 0x1d244 },
    { 0x1da00, 0x1da36 },
    { 0x1da3b, 0x1da6c },
    { 0x1da75, 0x1da75 },
    { 0x1da84, 0x1da84 },
    { 0x1da9b, 0x1da9f },
    { 0x1daa1, 0x1daaf },
    { 0x1e8d0, 0x1e8d6 },
    { 0xe0100, 0xe01ef }
};

extern int runeinrange(const void* a, const void* b);

bool ismarkrune(Rune ch) {
    return (NULL != bsearch(&ch, marks, 236, 2 * sizeof(Rune), &runeinrange));
}
